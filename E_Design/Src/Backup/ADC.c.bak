/*
 * ADC.c
 *
 *  Created on: 24 Apr 2019
 *      Author: 21093741
 */
#include "stm32f3xx_it.h"
#include "auxilliary.h"
#include "main.h"
#include "string.h"
#include "stdlib.h"
#include "inttypes.h"

//uint32_t adcVal1;
//float PA0;
//float ADC_volatage_in_volts;
//
//
//uint32_t adcVal2;
//float PA1;
//float ADC_current_in_milliamps;

void ADC(){

//	sConfig.Channel = ADC_CHANNEL_1;
//	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
//
//
//	HAL_ADC_Start(&hadc1);
//	if(HAL_ADC_PollForConversion(&hadc1,5) == HAL_OK){
//
//		adcVal1 = HAL_ADC_GetValue(&hadc1);
//		PA0 = (3.3 * adcVal1)/256;
//		ADC_volatage_in_volts = PA0 * (9.8+21.6)/9.8 + 0.87;
//
//
//	}
//
//
//	sConfig.Channel = ADC_CHANNEL_2;
//	HAL_ADC_ConfigChannel(&hadc1, &sConfig);
//	HAL_ADC_Start(&hadc1);
//	if(HAL_ADC_PollForConversion(&hadc1,5) == HAL_OK){
//
//		adcVal2 = HAL_ADC_GetValue(&hadc1);
//		PA1 = (3.3 * adcVal2)/256;
//		ADC_current_in_milliamps = ((PA1 / 11.0)/2.0)*1000;
//		//adc_actual0 = ((3.3 * (float)adcVal0)/(float)256.0)*((10.0+22.0)/22.0) ;
//		//work back to get v_in
//	}
//
//	HAL_Delay(50);

}
